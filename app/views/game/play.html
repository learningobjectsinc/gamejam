<div id="game">

	<audio id="music" mute loop>
		<source src="sound/finalAct.wav" type="audio/wav">
	</audio>
	<button ng-click="toggleMusic()" ng-show="isMusicOn">Turn Music Off</button>
	<button ng-click="toggleMusic()" ng-hide="isMusicOn">Turn Music On</button>

	<div class="sidebar" ng-controller="BlockEditor">
		<div class="blockLibrary">
			<h2>Block Library</h2>
			<button type="button" class="btn btn-block btn-primary" ng-repeat="block in blockTypes">
				{{ block.name }}
			</button>
		</div>
		<div class="programBlockContainer" block-container="blockProgram">
			<h2>Your Program</h2>
			<div ng-if="!program.statements.length">
				Add some blocks!<br>Y U NO CODE!?!?
			</div>
			<div ng-repeat="stmt in program.statements.children track by stmt.id" block="stmt"></div>
		</div>

		<div class="codeEditor">
			<h2>Code</h2>
			<div basic-editor="program"></div>
			<div class="code-controls">		
				<!-- These should probably move eventually? -->
				<input ng-click="program.compile()" class="compile" type="button" value="COMPILE" />
				<input ng-click="program.step()" class="step" type="button" ng-disabled="!program.statements.children" value="STEP" />
				<input ng-click="program.run()" class="run" type="button" ng-disabled="!program.statements.children" value="RUN" />
			</div>
		</div>

		<button ui-sref="^.wrapup">Run</button>
		<button ui-sref="^.wrapup">WIN</button>
	</div>

	<game-canvas level="level"></game-canvas>

</div>
